{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./App.css';import InteractiveTranscript from'./components/InteractiveTranscript';import NewsItems from'./components/NewsItems';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[newsData,setNewsData]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const audioRef=useRef(null);const fetchNews=async()=>{setLoading(true);setError(null);try{const apiUrl=process.env.REACT_APP_API_URL||'https://q4qn6e5kd2ffgdawnqaqs7en2y0suukd.lambda-url.us-west-2.on.aws/';const response=await fetch(apiUrl);if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();setNewsData(data);}catch(err){setError(err instanceof Error?err.message:'Failed to fetch news');}finally{setLoading(false);}};useEffect(()=>{fetchNews();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDF99\\uFE0F Curio News\"}),/*#__PURE__*/_jsx(\"p\",{children:\"AI-powered international news with interactive transcripts\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchNews,disabled:loading,className:\"refresh-button\",children:loading?'üîÑ Generating...':'üîÑ Generate Fresh News'})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[\"\\u274C Error: \",error]}),loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-message\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Generating your personalized news briefing...\"})]}),newsData&&/*#__PURE__*/_jsxs(\"div\",{className:\"news-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"audio-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFA7 Audio Briefing\"}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,controls:true,src:newsData.audio_url,className:\"audio-player\",children:\"Your browser does not support the audio element.\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"generated-time\",children:[\"Generated: \",new Date(newsData.generated_at).toLocaleString()]})]}),/*#__PURE__*/_jsx(InteractiveTranscript,{script:newsData.script,wordTimings:newsData.word_timings,audioRef:audioRef}),/*#__PURE__*/_jsx(NewsItems,{items:newsData.news_items})]})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","InteractiveTranscript","NewsItems","jsx","_jsx","jsxs","_jsxs","App","newsData","setNewsData","loading","setLoading","error","setError","audioRef","fetchNews","apiUrl","process","env","REACT_APP_API_URL","response","fetch","ok","Error","concat","status","data","json","err","message","className","children","onClick","disabled","ref","controls","src","audio_url","Date","generated_at","toLocaleString","script","wordTimings","word_timings","items","news_items"],"sources":["/Users/tonynarvaez/projects/myownnews-agent/myownnews/curio-news-ui/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './App.css';\nimport InteractiveTranscript from './components/InteractiveTranscript';\nimport NewsItems from './components/NewsItems';\n\ninterface NewsItem {\n  title: string;\n  category: string;\n  summary: string;\n  full_text: string;\n}\n\ninterface NewsData {\n  script: string;\n  audio_url: string;\n  word_timings: Array<{ word: string; start: number; end: number }>;\n  news_items: NewsItem[];\n  generated_at: string;\n}\n\nconst App: React.FC = () => {\n  const [newsData, setNewsData] = useState<NewsData | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  const fetchNews = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const apiUrl = process.env.REACT_APP_API_URL || 'https://q4qn6e5kd2ffgdawnqaqs7en2y0suukd.lambda-url.us-west-2.on.aws/';\n      const response = await fetch(apiUrl);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data: NewsData = await response.json();\n      setNewsData(data);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Failed to fetch news');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchNews();\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <h1>üéôÔ∏è Curio News</h1>\n        <p>AI-powered international news with interactive transcripts</p>\n        <button \n          onClick={fetchNews} \n          disabled={loading}\n          className=\"refresh-button\"\n        >\n          {loading ? 'üîÑ Generating...' : 'üîÑ Generate Fresh News'}\n        </button>\n      </header>\n\n      <main className=\"app-main\">\n        {error && (\n          <div className=\"error-message\">\n            ‚ùå Error: {error}\n          </div>\n        )}\n\n        {loading && (\n          <div className=\"loading-message\">\n            <div className=\"loading-spinner\"></div>\n            <p>Generating your personalized news briefing...</p>\n          </div>\n        )}\n\n        {newsData && (\n          <div className=\"news-content\">\n            <div className=\"audio-section\">\n              <h2>üéß Audio Briefing</h2>\n              <audio \n                ref={audioRef}\n                controls \n                src={newsData.audio_url}\n                className=\"audio-player\"\n              >\n                Your browser does not support the audio element.\n              </audio>\n              <p className=\"generated-time\">\n                Generated: {new Date(newsData.generated_at).toLocaleString()}\n              </p>\n            </div>\n\n            <InteractiveTranscript \n              script={newsData.script}\n              wordTimings={newsData.word_timings}\n              audioRef={audioRef}\n            />\n\n            <NewsItems items={newsData.news_items} />\n          </div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}